

<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
       Jogo da Sorte
    </title>

    <script src="Script/jquery-1.10.2.js"></script>
    <script src="Script/bootstrap.js"></script>
    <script src="Script/modernizr-2.6.2.js"></script>
    <script src="Script/respond.js"></script>
    

    <link href="css/bootstrap.min.css" rel="stylesheet" />    
    <link href="css/Site.css" rel="stylesheet" />

    <link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
</head>
<body>
    <form method="post" action="./loteria" id="ctl01">
        <!--<div class="aspNetHidden">
            <input type="hidden" name="__EVENTTARGET" id="__EVENTTARGET" value="" />
            <input type="hidden" name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="" />
            <input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="0vc3oBgHH+okO65Sq60DWvLqNy2eDUwc85I4qdYqpumAvsIxcFmTmBFm1WgqR5ibcMpGO+uqKDXTkoBou5++SKCikWCa7saP5kNixYZtEAE=" />
        </div>

        <script type="text/javascript">
            //<![CDATA[
            var theForm = document.forms['ctl01'];
            if (!theForm) {
                theForm = document.ctl01;
            }
            function __doPostBack(eventTarget, eventArgument) {
                if (!theForm.onsubmit || (theForm.onsubmit() != false)) {
                    theForm.__EVENTTARGET.value = eventTarget;
                    theForm.__EVENTARGUMENT.value = eventArgument;
                    theForm.submit();
                }
            }
//]]>
        </script>



        <script src="/bundles/MsAjaxJs?v=c42ygB2U07n37m_Sfa8ZbLGVu4Rr2gsBo7MvUEnJeZ81" type="text/javascript"></script>
        <script type="text/javascript">
            //<![CDATA[
            if (typeof (Sys) === 'undefined') throw new Error('A estrutura do cliente do ASP.NET Ajax falhou ao ser carregada.');
//]]>
        </script>

        <script src="Scripts/jquery-1.10.2.js" type="text/javascript"></script>
        <script src="Scripts/bootstrap.js" type="text/javascript"></script>
        <script src="Scripts/respond.js" type="text/javascript"></script>
        <script src="/bundles/WebFormsJs?v=AAyiAYwMfvmwjNSBfIMrBAqfU5exDukMVhrRuZ-PDU01" type="text/javascript"></script>
        <div class="aspNetHidden">

            <input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="3519714A" />
        </div>
        <script type="text/javascript">
            //<![CDATA[
            Sys.WebForms.PageRequestManager._initialize('ctl00$ctl08', 'ctl01', [], [], [], 90, 'ctl00');
//]]>
        </script>-->


        <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <div class="navbar-brand" href="~/">Mega-Sena</div>
                </div>
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav"></ul>
                </div>
            </div>
        </div>
        <div class="container body-content">

            <style>
                a {
                    color: dimgrey;
                    margin: 5px;
                    cursor: pointer;
                }

                    a:hover {
                        background-color: cornflowerblue;
                    }

                .tudo1 {
                    border: 1px solid #086898;
                    width: 15%;
                    margin-top: 20px;
                    float: left;
                }

                .tudo2 {
                    border: 1px solid #086898;
                    width: 100%;
                    margin-top: 20px;
                    float: left;
                }

                .tudo3 {
                    border: 1px solid #086898;
                    width: 70%;
                    margin-top: 20px;
                    margin-left: 20px;
                    float: left;
                }

                .tudo4 {
                    border: 1px solid #086898;
                    margin-top: 20px;
                    height: 79px;
                    width: 179px;
                    float: left;
                }

                .tudo5 {
                    border: 1px solid #086898;
                    margin-top: 20px;
                    margin-left: 20px;
                    width: 80%;
                    position: relative;
                    float: left;
                }

                .sorteio {
                    width: 26px;
                }
            </style>
            <div class="row">
                <div id="targetDIV" class="tudo1">
                    <div class='button-bar' id="div1">
                        <a class="button button-stable" onclick="onbuttonclick('01')" id="01">01</a>
                        <a class="button button-stable" onclick="onbuttonclick('02')" id="02">02</a>
                        <a class="button button-stable" onclick="onbuttonclick('03')" id="03">03</a>
                        <a class="button button-stable" onclick="onbuttonclick('04')" id="04">04</a>
                        <a class="button button-stable" onclick="onbuttonclick('05')" id="05">05</a>
                        <a class="button button-stable" onclick="onbuttonclick('06')" id="06">06</a>
                    </div>
                    <div class='button-bar' id="div2">
                        <a class="button button-stable" onclick="onbuttonclick('07')" id="07">07</a>
                        <a class="button button-stable" onclick="onbuttonclick('08')" id="08">08</a>
                        <a class="button button-stable" onclick="onbuttonclick('09')" id="09">09</a>
                        <a class="button button-stable" onclick="onbuttonclick('10')" id="10">10</a>
                        <a class="button button-stable" onclick="onbuttonclick('11')" id="11">11</a>
                        <a class="button button-stable" onclick="onbuttonclick('12')" id="12">12</a>
                    </div>
                    <div class='button-bar'>
                        <a class="button button-stable" onclick="onbuttonclick('13')" id="13">13</a>
                        <a class="button button-stable" onclick="onbuttonclick('14')" id="14">14</a>
                        <a class="button button-stable" onclick="onbuttonclick('15')" id="15">15</a>
                        <a class="button button-stable" onclick="onbuttonclick('16')" id="16">16</a>
                        <a class="button button-stable" onclick="onbuttonclick('17')" id="17">17</a>
                        <a class="button button-stable" onclick="onbuttonclick('18')" id="18">18</a>
                    </div>
                    <div class='button-bar'>
                        <a class="button button-stable" onclick="onbuttonclick('19')" id="19">19</a>
                        <a class="button button-stable" onclick="onbuttonclick('20')" id="20">20</a>
                        <a class="button button-stable" onclick="onbuttonclick('21')" id="21">21</a>
                        <a class="button button-stable" onclick="onbuttonclick('22')" id="22">22</a>
                        <a class="button button-stable" onclick="onbuttonclick('23')" id="23">23</a>
                        <a class="button button-stable" onclick="onbuttonclick('24')" id="24">24</a>
                    </div>
                    <div class='button-bar'>
                        <a class="button button-stable" onclick="onbuttonclick('25')" id="25">25</a>
                        <a class="button button-stable" onclick="onbuttonclick('26')" id="26">26</a>
                        <a class="button button-stable" onclick="onbuttonclick('27')" id="27">27</a>
                        <a class="button button-stable" onclick="onbuttonclick('28')" id="28">28</a>
                        <a class="button button-stable" onclick="onbuttonclick('29')" id="29">29</a>
                        <a class="button button-stable" onclick="onbuttonclick('30')" id="30">30</a>
                    </div>
                    <div class='button-bar'>
                        <a class="button button-stable" onclick="onbuttonclick('31')" id="31">31</a>
                        <a class="button button-stable" onclick="onbuttonclick('32')" id="32">32</a>
                        <a class="button button-stable" onclick="onbuttonclick('33')" id="33">33</a>
                        <a class="button button-stable" onclick="onbuttonclick('34')" id="34">34</a>
                        <a class="button button-stable" onclick="onbuttonclick('35')" id="35">35</a>
                        <a class="button button-stable" onclick="onbuttonclick('36')" id="36">36</a>
                    </div>
                    <div class='button-bar'>
                        <a class="button button-stable" onclick="onbuttonclick('37')" id="37">37</a>
                        <a class="button button-stable" onclick="onbuttonclick('38')" id="38">38</a>
                        <a class="button button-stable" onclick="onbuttonclick('39')" id="39">39</a>
                        <a class="button button-stable" onclick="onbuttonclick('40')" id="40">40</a>
                        <a class="button button-stable" onclick="onbuttonclick('41')" id="41">41</a>
                        <a class="button button-stable" onclick="onbuttonclick('42')" id="42">42</a>
                    </div>
                    <div class='button-bar'>
                        <a class="button button-stable" onclick="onbuttonclick('43')" id="43">43</a>
                        <a class="button button-stable" onclick="onbuttonclick('44')" id="44">44</a>
                        <a class="button button-stable" onclick="onbuttonclick('45')" id="45">45</a>
                        <a class="button button-stable" onclick="onbuttonclick('46')" id="46">46</a>
                        <a class="button button-stable" onclick="onbuttonclick('47')" id="47">47</a>
                        <a class="button button-stable" onclick="onbuttonclick('48')" id="48">48</a>
                    </div>
                    <div class='button-bar'>
                        <a class="button button-stable" onclick="onbuttonclick('49')" id="49">49</a>
                        <a class="button button-stable" onclick="onbuttonclick('50')" id="50">50</a>
                        <a class="button button-stable" onclick="onbuttonclick('51')" id="51">51</a>
                        <a class="button button-stable" onclick="onbuttonclick('52')" id="52">52</a>
                        <a class="button button-stable" onclick="onbuttonclick('53')" id="53">53</a>
                        <a class="button button-stable" onclick="onbuttonclick('54')" id="54">54</a>
                    </div>
                    <div class='button-bar'>
                        <a class="button button-stable" onclick="onbuttonclick('55')" id="55">55</a>
                        <a class="button button-stable" onclick="onbuttonclick('56')" id="56">56</a>
                        <a class="button button-stable" onclick="onbuttonclick('57')" id="57">57</a>
                        <a class="button button-stable" onclick="onbuttonclick('58')" id="58">58</a>
                        <a class="button button-stable" onclick="onbuttonclick('59')" id="59">59</a>
                        <a class="button button-stable" onclick="onbuttonclick('60')" id="60">60</a>
                    </div>
                    <div class="tudo2">
                        <input type="button" class="button button-stable" onclick="Surpresinha()" value="Surpresinha" />
                        <input type="button" class="button button-stable" onclick="ListaNumeros()" value="Adicionar Números" />
                        <input type="button" class="button button-stable" onclick="Finalizar()" value="Concluír Aposta" />
                        <input type="button" class="button button-stable" onclick="ReiniciaSorteio()" value="Reiniciar Sorteio" />
                    </div>
                </div>
                <div class='tudo3'>
                    <label title="Aposta" style="width: 220px;">Aposta Atual</label>
                    <div id="DivListSorteio">
                    </div>

                </div>
            </div>
            <div class="tudo2"></div>
            <div class="row">
                <div class='tudo4'>
                    <label title="Números do Sorteio" style="width: 215px;">Números do Sorteio</label>
                    <input type="text" id="num1" class="sorteio" maxlength="2" />
                    <input type="text" id="num2" class="sorteio" maxlength="2" />
                    <input type="text" id="num3" class="sorteio" maxlength="2" />
                    <input type="text" id="num4" class="sorteio" maxlength="2" />
                    <input type="text" id="num5" class="sorteio" maxlength="2" />
                    <input type="text" id="num6" class="sorteio" maxlength="2" />
                    <input type="button" class="button button-stable" onclick="RealizaSorteio()" value="Realizar Sorteio" />
                </div>
                <div class="tudo5">
                    <label title="Lista dos números sorteados" style="width: 200px;">Lista dos números sorteados</label>
                    <div id="DivSorteioRealizado">
                    </div>
                </div>
            </div>
            <script>
                var numerosSelecionados = [];
                var NumerosLoteria = [];
                var ListaSorteio = [];
                var ListaNumeroSorteado = [];
                var countList = 1;

                var onbuttonclick = function (value) {
                    var index = GetIndexNumeroSelecionado(value)
                    if (index != undefined) {
                        numerosSelecionados.splice(index, 1);
                        $("#" + value).css('background-color', 'white');
                    } else if (numerosSelecionados.length >= 6) {
                        //alert("Você já selecionou os 6 números da sorte!");
                    }
                    else {
                        numerosSelecionados.push(value);
                        $("#" + value).css('background-color', 'blue');
                    }
                }

                //Verifica se o número já foi selecionado
                var GetIndexNumeroSelecionado = function (value) {
                    for (var i = 0; i < numerosSelecionados.length; i++) {
                        if (numerosSelecionados[i] == value)
                            return i;
                    }
                }

                //realizar jogo da surpresinha
                var Surpresinha = function () {
                    for (var i = 0; i <= 5; i++) {
                        var value = Math.floor(Math.random() * (60 + 1));
                        if (value < 10 && value > 0) {
                            value = "0" + value;
                        }

                        if (value > 0) {
                            onbuttonclick(value);
                        }
                    }

                    if (numerosSelecionados.length < 6) {
                        Surpresinha();
                    }
                }

                //limpar a tela com os jogos
                var ReiniciaSorteio = function () {
                    $("#DivListSorteio").text("");
                    numerosSelecionados = [];
                    $("a").css('background-color', 'white');
                    NumerosLoteria = [];
                    ListaSorteio = [];
                    ListaNumeroSorteado = [];
                    countList = 1;
                    $('#DivSorteioRealizado').text("");
                }

                //mostrar os jogos realizados na tela
                var ListaNumeros = function () {
                    var numeros = "[";
                    for (var i = 0; i < numerosSelecionados.length; i++) {

                        if (i == 5) {
                            numeros += numerosSelecionados[i];
                        } else {
                            numeros += numerosSelecionados[i] + "-";
                        }
                    }
                    numeros += "]";

                    if (numeros != "[]" && (numeros.split("-").length == 6 && numeros.split("-")[5].length > 1)) {
                        var data = dataFormatada();

                        var numIdentificador = (ListaSorteio.length + countList) + "" + data + "" + numeros.replace("-", "").replace('-', '').replace('-', '').replace('-', '').replace('-', '').replace('[', '').replace(']', '');
                        countList++;
                        numeros += "-" + numIdentificador;

                        $('#DivListSorteio').append("<div> " + numeros + " </div >");
                        NumerosLoteria.push(numeros);

                        //Limpar()
                        numerosSelecionados = [];
                        $("a").css('background-color', 'white');
                    } else {
                        alert("Favor selecionar 6 números da sorte!");
                    }
                }

                //colocar os jogos em um array único
                var Finalizar = function () {
                    var numeros = "";
                    for (var i = 0; i < NumerosLoteria.length; i++) {
                        numeros += NumerosLoteria[i] + "//##//";
                    }

                    ListaSorteio.push(numeros);
                    //Limpar();
                    numerosSelecionados = [];
                    $("a").css('background-color', 'white');
                    NumerosLoteria = [];
                    $("#DivListSorteio").text("");

                }

                //Formatar Data
                var dataFormatada = function () {
                    var data = new Date(),
                        dia = data.getDate(),
                        mes = data.getMonth() + 1,
                        ano = data.getFullYear(),
                        hora = data.getHours(),
                        minutos = data.getMinutes();

                    return "" + ano + mes + dia + hora + minutos;
                }

                var RealizaSorteio = function () {
                    var qtd = 0;
                    var numSorteio = 0;
                    $('#DivSorteioRealizado').text("");

                    //Array de Array
                    for (var i = 0; i < ListaSorteio.length; i++) {

                        //Lista de Array
                        for (var j = 0; j < ListaSorteio[i].split("//##//").length; j++) {

                            var list_j = ListaSorteio[i].split("//##//")[j];

                            if (ListaSorteio[i].split("//##//")[j] != "") {

                                for (var a = 0; a < 6; a++) {

                                    var num = 0;
                                    if (a == 0) {
                                        num = list_j.split("-")[a].replace("[", "");
                                    } else if (a == 5) {
                                        num = list_j.split("-")[a].replace("]", "");
                                    } else {
                                        num = list_j.split("-")[a];
                                    }

                                    //Verificar os id(s)
                                    for (var x = 1; x < 7; x++) {


                                        if (num == $("#num" + x).val()) {
                                            if (qtd == 0) {
                                                numSorteio = ListaSorteio[i].split("//##//")[j];
                                            }

                                            qtd++;
                                        }

                                        if (a == 5 && x == 6 && qtd > 0) {
                                            $('#DivSorteioRealizado').append("<div>Número:" + numSorteio + " Acerto(s):" + qtd + " </div >");
                                            numSorteio = 0;
                                            qtd = 0;
                                        }
                                    }

                                }
                            }
                        }
                    }

                    if ($('#DivSorteioRealizado').text().trim().length == 0) {
                        $('#DivSorteioRealizado').append("<div>Não teve um jogo ganhador: </div >");
                    }
                }

            </script>


            <hr />
            <footer>
                <p>&copy; 2017 - My ASP.NET Application</p>
            </footer>
        </div>

    </form>
</body>
</html>
